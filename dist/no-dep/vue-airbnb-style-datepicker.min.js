!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("date-fns/format"),require("date-fns/sub_months"),require("date-fns/add_months"),require("date-fns/get_days_in_month"),require("date-fns/is_before"),require("date-fns/is_after"),require("date-fns/is_valid")):"function"==typeof define&&define.amd?define(["date-fns/format","date-fns/sub_months","date-fns/add_months","date-fns/get_days_in_month","date-fns/is_before","date-fns/is_after","date-fns/is_valid"],e):t.vueAirbnbStyleDatepicker=e(t.dateFns.format,t.dateFns.subMonths,t.dateFns.addMonths,t.dateFns.getDaysInMonth,t.dateFns.isBefore,t.dateFns.isAfter,t.dateFns.isValid)}(this,function(t,e,i,s,n,a,r){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e,i=i&&i.hasOwnProperty("default")?i.default:i,s=s&&s.hasOwnProperty("default")?s.default:s,n=n&&n.hasOwnProperty("default")?n.default:n,a=a&&a.hasOwnProperty("default")?a.default:a,r=r&&r.hasOwnProperty("default")?r.default:r,Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),i=e.length;--i>=0&&e.item(i)!==this;);return i>-1}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){var i=arguments;if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),n=1;n<arguments.length;n++){var a=i[n];if(null!=a)for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},writable:!0,configurable:!0}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var s=arguments[1],n=0;n<i;){var a=e[n];if(t.call(s,a,n,e))return n;n++}return-1}});var o={ru:{daysShort:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],texts:{apply:"Применить",cancel:"Отменить"}},kk:{daysShort:["Дүй","Сей","Сәр","Бей","Жұм","Сен","Жек"],monthNames:["Қаңтар","Ақпан","Наурыз","Сәуір","Мамыр","Маусым","Шілде","Тамыз","Қыркүйек","Қазан","Қараша","Желтоқсан"],texts:{apply:"Қолдану",cancel:"Жою"}},en:{daysShort:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],texts:{apply:"Apply",cancel:"Cancel"}}},h=function(t){return JSON.parse(JSON.stringify(t))},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showDatepicker,expression:"showDatepicker"},{name:"click-outside",rawName:"v-click-outside",value:t.handleClickOutside,expression:"handleClickOutside"}],staticClass:"airbnb-style-datepicker-wrapper",class:t.wrapperClasses,style:t.showFullscreen?void 0:t.wrapperStyles,attrs:{id:t.wrapperId}},[i("div",{staticClass:"datepicker-header"},[i("div",{staticClass:"change-month-button previous"},[i("button",{on:{click:t.previousMonth}},[i("svg",{attrs:{viewBox:"0 0 1000 1000"}},[i("path",{attrs:{d:"M336.2 274.5l-210.1 210h805.4c13 0 23 10 23 23s-10 23-23 23H126.1l210.1 210.1c11 11 11 21 0 32-5 5-10 7-16 7s-11-2-16-7l-249.1-249c-11-11-11-21 0-32l249.1-249.1c21-21.1 53 10.9 32 32z"}})])])]),t._v(" "),i("div",{staticClass:"change-month-button next"},[i("button",{on:{click:t.nextMonth}},[i("svg",{attrs:{viewBox:"0 0 1000 1000"}},[i("path",{attrs:{d:"M694.4 242.4l249.1 249.1c11 11 11 21 0 32L694.4 772.7c-5 5-10 7-16 7s-11-2-16-7c-11-11-11-21 0-32l210.1-210.1H67.1c-13 0-23-10-23-23s10-23 23-23h805.4L662.4 274.5c-21-21.1 11-53.1 32-32.1z"}})])])]),t._v(" "),t._l(t.showMonths,function(e,s){return i("div",{key:e,staticClass:"days-legend",style:[t.monthWidthStyles,{left:t.width*s+"px"}]},t._l(t.daysShort,function(e){return i("div",{key:e,staticClass:"day-title"},[t._v(t._s(e))])}))})],2),t._v(" "),i("div",{staticClass:"datepicker-inner-wrapper",style:t.innerStyles},[i("transition-group",{attrs:{name:"list-complete",tag:"div"}},t._l(t.months,function(e,s){return i("div",{key:e.firstDateOfMonth,staticClass:"month",class:{hidden:0===s||s>t.showMonths},style:t.monthWidthStyles},[i("div",{staticClass:"month-name"},[t._v(t._s(t.monthNames[e.monthIndex])+" "+t._s(e.year))]),t._v(" "),i("table",{staticClass:"month-table",attrs:{role:"presentation"}},[i("tbody",t._l(e.weeks,function(e,s){return i("tr",{key:s,staticClass:"week"},t._l(e,function(e,s){var n=e.fullDate,a=e.dayNumber;return i("td",{key:s+"_"+a,staticClass:"day",class:{enabled:0!==a,empty:0===a,disabled:t.isDisabled(n),selected:t.selectedDate1===n||t.selectedDate2===n,"in-range":t.isInRange(n)},style:{width:(t.width-30)/7+"px",background:t.isSelected(n)?t.colors.selected:t.isInRange(n)?t.colors.inRange:"",color:t.isSelected(n)?t.colors.selectedText:t.isInRange(n)?t.colors.selectedText:t.colors.text},attrs:{"data-date":n},on:{mouseover:function(){t.setHoverDate(n)}}},[a?i("button",{staticClass:"day-button",attrs:{date:n,disabled:t.isDisabled(n)},on:{click:function(){t.selectDate(n)}}},[t._v(t._s(a))]):t._e()])}))}))])])}))],1),t._v(" "),"single"!==t.mode&&t.showActionButtons?i("div",{staticClass:"action-buttons mobile-only"},[i("button",{on:{click:t.closeDatepickerCancel}},[t._v(t._s(t.texts.cancel))]),t._v(" "),i("button",{style:{color:t.colors.selected},on:{click:t.closeDatepicker}},[t._v(t._s(t.texts.apply))])]):t._e()])])},staticRenderFns:[],name:"AirbnbStyleDatepicker",props:{triggerElementId:{type:String},dateOne:{type:[String,Date],default:t(new Date)},dateTwo:{type:[String,Date]},minDate:{type:[String,Date]},endDate:{type:[String,Date]},mode:{type:String,default:"range"},offsetY:{type:Number,default:0},offsetX:{type:Number,default:0},monthsToShow:{type:Number,default:1},startOpen:{type:Boolean},fullscreenMobile:{type:Boolean,default:!0},inline:{type:Boolean},disabledDates:{type:Array,default:function(){return[]}},showActionButtons:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},isTest:{type:Boolean,default:function(){return!1}},lang:{type:String,default:"ru"}},data:function(){return{wrapperId:"airbnb-style-datepicker-wrapper-"+function(t){for(var e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<t;s++)e+=i.charAt(Math.floor(Math.random()*i.length));return e}(5),dateFormat:"YYYY-MM-DD",showDatepicker:!1,showMonths:2,colors:{selected:"#643184",inRange:"#b98ad1",selectedText:"#fff",text:"#73879c"},sundayFirst:!1,startingDate:"",months:[],width:300,selectedDate1:"",selectedDate2:"",isSelectingDate1:!0,hoverDate:"",alignRight:!1,triggerPosition:{},triggerWrapperPosition:{},viewportWidth:window.innerWidth+"px",isMobile:window.innerWidth<768,isTablet:window.innerWidth>=768&&window.innerWidth<=1024,triggerElement:void 0}},computed:{translation:function(){return o[this.lang]},daysShort:function(){return this.translation.daysShort},monthNames:function(){return this.translation.monthNames},texts:function(){return this.translation.texts},wrapperClasses:function(){return{"datepicker-open":this.showDatepicker,"full-screen":this.showFullscreen,inline:this.inline}},wrapperStyles:function(){return{position:this.inline?"static":"absolute",top:this.inline?"0":this.triggerPosition.height+this.offsetY+"px",left:this.alignRight?"":this.triggerPosition.left-this.triggerWrapperPosition.left+this.offsetX+"px",right:this.alignRight?this.triggerWrapperPosition.right-this.triggerPosition.right+this.offsetX+"px":"",width:this.width*this.showMonths+"px",zIndex:this.inline?"0":"100"}},innerStyles:function(){return{"margin-left":this.showFullscreen?"-"+this.viewportWidth:"-"+this.width+"px"}},monthWidthStyles:function(){return{width:this.showFullscreen?this.viewportWidth:this.width+"px"}},showFullscreen:function(){return this.isMobile&&this.fullscreenMobile},datesSelected:function(){return!!(this.selectedDate1&&""!==this.selectedDate1||this.selectedDate2&&""!==this.selectedDate2)},allDatesSelected:function(){return!(!this.selectedDate1||""===this.selectedDate1||!this.selectedDate2||""===this.selectedDate2)},hasMinDate:function(){return!(!this.minDate||""===this.minDate)},isRangeMode:function(){return"range"===this.mode},isSingleMode:function(){return"single"===this.mode},datepickerWidth:function(){return this.width*this.showMonths},datePropsCompound:function(){return this.dateOne+this.dateTwo},isDateTwoBeforeDateOne:function(){return!!this.dateTwo&&n(this.dateTwo,this.dateOne)}},watch:{selectedDate1:function(e,i){var s=e&&""!==e?t(e,this.dateFormat):"";this.$emit("date-one-selected",s)},selectedDate2:function(e,i){var s=e&&""!==e?t(e,this.dateFormat):"";this.$emit("date-two-selected",s)},mode:function(t,e){this.setStartDates()},datePropsCompound:function(t){this.dateOne!==this.selectedDate1&&(this.startingDate=this.dateOne,this.setStartDates(),this.generateMonths()),this.isDateTwoBeforeDateOne&&(this.selectedDate2="",this.$emit("date-two-selected",""))}},created:function(){var t,e,i,s,n=this;this.setupDatepicker(),this.sundayFirst&&this.setSundayToFirstDayInWeek(),this._handleWindowResizeEvent=(t=function(){n.positionDatepicker(),n.setStartDates()},e=200,function(){var n=this,a=arguments,r=i&&!s;clearTimeout(s),s=setTimeout(function(){s=null,i||t.apply(n,a)},e),r&&t.apply(n,a)}),this._handleWindowClickEvent=function(t){t.target.id===n.triggerElementId&&(t.stopPropagation(),t.preventDefault(),n.toggleDatepicker())},window.addEventListener("resize",this._handleWindowResizeEvent),window.addEventListener("click",this._handleWindowClickEvent)},mounted:function(){this.triggerElement=this.isTest?document.createElement("input"):document.getElementById(this.triggerElementId),this.setStartDates(),this.generateMonths(),(this.startOpen||this.inline)&&this.openDatepicker(),this.triggerElement.addEventListener("keyup",this.handleTriggerInput)},destroyed:function(){window.removeEventListener("resize",this._handleWindowResizeEvent),window.removeEventListener("click",this._handleWindowClickEvent),this.triggerElement.removeEventListener("keyup",this.handleTriggerInput)},methods:{handleClickOutside:function(t){t.target.id!==this.triggerElementId&&this.closeDatepicker()},handleTriggerInput:function(t){var e=40,i=38,s=39,n=37;t.keyCode!==e||t.shiftKey||this.showDatepicker?t.keyCode===i&&!t.shiftKey&&this.showDatepicker?this.closeDatepicker():t.keyCode===s&&!t.shiftKey&&this.showDatepicker?this.nextMonth():t.keyCode===n&&!t.shiftKey&&this.showDatepicker?this.previousMonth():"single"===this.mode&&this.setDateFromText(t.target.value):this.openDatepicker()},setDateFromText:function(i){if(!(i.length<10)){var s=i.match(/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/),n=i.match(/^(0[1-9]|1[0-9]|2[0-9]|3[0-1])[.](0[1-9]|1[0-2])[.](\d{4})$/);if(s||n){n&&(i=i.substring(6,10)+"-"+i.substring(3,5)+"-"+i.substring(0,2));var a=new Date(i);if(r(a)){var o=t(a,this.dateFormat);this.isDateDisabled(o)||this.isBeforeMinDate(o)||this.isAfterEndDate(o)||(this.startingDate=e(o,1),this.generateMonths(),this.selectDate(o))}}}},generateMonths:function(){this.months=[];for(var t=0;t<this.showMonths+2;t++)this.months.push(this.getMonth(this.startingDate)),this.startingDate=this.addMonths(this.startingDate)},setupDatepicker:function(){if(this.$options.sundayFirst&&(this.sundayFirst=h(this.$options.sundayFirst)),this.$options.colors){var t=h(this.$options.colors);this.colors.selected=t.selected||this.colors.selected,this.colors.inRange=t.inRange||this.colors.inRange,this.colors.selectedText=t.selectedText||this.colors.selectedText,this.colors.text=t.text||this.colors.text}},setStartDates:function(){var t=this.dateOne||new Date;this.hasMinDate&&n(t,this.minDate)&&(t=this.minDate),this.startingDate=this.subtractMonths(t),this.selectedDate1=this.dateOne,this.selectedDate2=this.dateTwo},setSundayToFirstDayInWeek:function(){var t=this.daysShort.pop();this.daysShort.unshift(t)},getMonth:function(e){var i=t(e,"YYYY-MM-01"),s=t(e,"YYYY"),n=parseInt(t(e,"M"));return{year:s,firstDateOfMonth:i,monthIndex:n-1,monthNumber:n,weeks:this.getWeeks(i)}},getWeeks:function(e){var i={dayNumber:0},n=s(e),a=t(e,"YYYY"),r=t(e,"MM"),o=parseInt(t(e,this.sundayFirst?"d":"E"));this.sundayFirst&&o++;for(var h=[],l=[],d=1;d<o;d++)l.push(i);for(var c=0;c<n;c++){var u=c>=n-1,f=c+1,p=f<10?"0"+f:f;if(l.push({dayNumber:f,dayNumberFull:p,fullDate:a+"-"+r+"-"+p}),7===l.length)h.push(l),l=[];else if(u){for(var g=0;g<7-l.length;g++)l.push(i);h.push(l),l=[]}}return h},selectDate:function(t){if(!(this.isBeforeMinDate(t)||this.isAfterEndDate(t)||this.isDateDisabled(t)))return"single"===this.mode?(this.selectedDate1=t,void this.closeDatepicker()):void(this.isSelectingDate1||n(t,this.selectedDate1)?(this.selectedDate1=t,this.isSelectingDate1=!1,n(this.selectedDate2,t)&&(this.selectedDate2="")):(this.selectedDate2=t,this.isSelectingDate1=!0,a(this.selectedDate1,t)&&(this.selectedDate1="")))},setHoverDate:function(t){this.hoverDate=t},isSelected:function(t){if(t)return this.selectedDate1===t||this.selectedDate2===t},isInRange:function(t){return!(!this.allDatesSelected||this.isSingleMode)&&(a(t,this.selectedDate1)&&n(t,this.selectedDate2)||a(t,this.selectedDate1)&&n(t,this.hoverDate)&&!this.allDatesSelected)},isBeforeMinDate:function(t){return!!this.minDate&&n(t,this.minDate)},isAfterEndDate:function(t){return!!this.endDate&&a(t,this.endDate)},isDateDisabled:function(t){return this.disabledDates.indexOf(t)>-1},isDisabled:function(t){return this.isDateDisabled(t)||this.isBeforeMinDate(t)||this.isAfterEndDate(t)},previousMonth:function(){this.startingDate=this.subtractMonths(this.months[0].firstDateOfMonth),this.months.unshift(this.getMonth(this.startingDate)),this.months.splice(this.months.length-1,1)},nextMonth:function(){var t=this;this.startingDate=this.addMonths(this.months[this.months.length-1].firstDateOfMonth),this.months.push(this.getMonth(this.startingDate)),setTimeout(function(){t.months.splice(0,1)},100)},subtractMonths:function(i){return t(e(i,1),this.dateFormat)},addMonths:function(e){return t(i(e,1),this.dateFormat)},toggleDatepicker:function(){this.showDatepicker?this.closeDatepicker():this.disabled||this.openDatepicker()},openDatepicker:function(){this.positionDatepicker(),this.setStartDates(),this.triggerElement.classList.add("datepicker-open"),this.showDatepicker=!0,this.initialDate1=this.dateOne,this.initialDate2=this.dateTwo},closeDatepickerCancel:function(){this.showDatepicker&&(this.selectedDate1=this.initialDate1,this.selectedDate2=this.initialDate2,this.closeDatepicker())},closeDatepicker:function(){this.inline||(this.showDatepicker=!1,this.triggerElement.classList.remove("datepicker-open"),this.$emit("closed"))},positionDatepicker:function(){var t=function(t,e){if(!t)return null;if("function"==typeof t.closest)return t.closest(e)||null;for(;t;){if(t.matches(e))return t;t=t.parentElement}return null}(this.triggerElement,".datepicker-trigger");this.triggerPosition=this.triggerElement.getBoundingClientRect(),this.triggerWrapperPosition=t?t.getBoundingClientRect():{left:0,right:0};var e=Math.max(document.documentElement.clientWidth,window.innerWidth||0);this.viewportWidth=e+"px",this.isMobile=e<768,this.isTablet=e>=768&&e<=1024,this.showMonths=this.isMobile?1:this.isTablet&&this.monthsToShow>2?2:this.monthsToShow,this.$nextTick(function(){var t=document.getElementById(this.wrapperId);if(this.triggerElement&&t){var i=this.triggerElement.getBoundingClientRect().left+t.getBoundingClientRect().width;this.alignRight=i>e}})}}},d={bind:function(t,e,i){t.event=function(s){t===s.target||t.contains(s.target)||i.context[e.expression](s)},document.body.addEventListener("click",t.event),document.body.addEventListener("touchstart",t.event)},unbind:function(t){document.body.removeEventListener("click",t.event),document.body.removeEventListener("touchstart",t.event)}},c={install:function(t,e){t.directive("click-outside",d),t.component(l.name,Object.assign({},e,l))}};return"undefined"!=typeof window&&window.Vue&&(window.AirbnbStyleDatepicker=c),c});
//# sourceMappingURL=vue-airbnb-style-datepicker.min.js.map
