!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.vueAirbnbStyleDatepicker=e()}(this,function(){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){var n=arguments;if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=1;r<arguments.length;r++){var s=n[r];if(null!=s)for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},writable:!0,configurable:!0}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var s=e[r];if(t.call(i,s,r,e))return r;r++}return-1}});var t=function(t){return t instanceof Date},e=36e5,n=6e4,i=2,r=/[T ]/,s=/:/,a=/^(\d{2})$/,o=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],u=/^(\d{4})/,c=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],h=/^-(\d{2})$/,l=/^-?(\d{3})$/,d=/^-?(\d{2})-?(\d{2})$/,f=/^-?W(\d{2})$/,p=/^-?W(\d{2})-?(\d{1})$/,g=/^(\d{2}([.,]\d*)?)$/,m=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,D=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,v=/([Z+-].*)$/,y=/^(Z)$/,w=/^([+-])(\d{2})$/,M=/^([+-])(\d{2}):?(\d{2})$/;function b(t,e,n){e=e||0,n=n||0;var i=new Date(0);i.setUTCFullYear(t,0,4);var r=7*e+n+1-(i.getUTCDay()||7);return i.setUTCDate(i.getUTCDate()+r),i}var S=function(S,k){if(t(S))return new Date(S.getTime());if("string"!=typeof S)return new Date(S);var T=(k||{}).additionalDigits;T=null==T?i:Number(T);var x=function(t){var e,n={},i=t.split(r);if(s.test(i[0])?(n.date=null,e=i[0]):(n.date=i[0],e=i[1]),e){var a=v.exec(e);a?(n.time=e.replace(a[1],""),n.timezone=a[1]):n.time=e}return n}(S),E=function(t,e){var n,i=o[e],r=c[e];if(n=u.exec(t)||r.exec(t)){var s=n[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(n=a.exec(t)||i.exec(t)){var h=n[1];return{year:100*parseInt(h,10),restDateString:t.slice(h.length)}}return{year:null}}(x.date,T),Y=E.year,F=function(t,e){if(null===e)return null;var n,i,r,s;if(0===t.length)return(i=new Date(0)).setUTCFullYear(e),i;if(n=h.exec(t))return i=new Date(0),r=parseInt(n[1],10)-1,i.setUTCFullYear(e,r),i;if(n=l.exec(t)){i=new Date(0);var a=parseInt(n[1],10);return i.setUTCFullYear(e,0,a),i}if(n=d.exec(t)){i=new Date(0),r=parseInt(n[1],10)-1;var o=parseInt(n[2],10);return i.setUTCFullYear(e,r,o),i}if(n=f.exec(t))return s=parseInt(n[1],10)-1,b(e,s);if(n=p.exec(t)){s=parseInt(n[1],10)-1;var u=parseInt(n[2],10)-1;return b(e,s,u)}return null}(E.restDateString,Y);if(F){var C,O=F.getTime(),I=0;return x.time&&(I=function(t){var i,r,s;if(i=g.exec(t))return(r=parseFloat(i[1].replace(",",".")))%24*e;if(i=m.exec(t))return r=parseInt(i[1],10),s=parseFloat(i[2].replace(",",".")),r%24*e+s*n;if(i=D.exec(t)){r=parseInt(i[1],10),s=parseInt(i[2],10);var a=parseFloat(i[3].replace(",","."));return r%24*e+s*n+1e3*a}return null}(x.time)),x.timezone?(W=x.timezone,C=(_=y.exec(W))?0:(_=w.exec(W))?(H=60*parseInt(_[2],10),"+"===_[1]?-H:H):(_=M.exec(W))?(H=60*parseInt(_[2],10)+parseInt(_[3],10),"+"===_[1]?-H:H):0):(C=new Date(O+I).getTimezoneOffset(),C=new Date(O+I+C*n).getTimezoneOffset()),new Date(O+I+C*n)}var W,_,H;return new Date(S)};var k=function(t){var e=S(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n};var T=function(t){var e=S(t);return e.setHours(0,0,0,0),e},x=6e4,E=864e5;var Y=function(t,e){var n=T(t),i=T(e),r=n.getTime()-n.getTimezoneOffset()*x,s=i.getTime()-i.getTimezoneOffset()*x;return Math.round((r-s)/E)};var F=function(t){var e=S(t);return Y(e,k(e))+1};var C=function(t,e){var n=e&&Number(e.weekStartsOn)||0,i=S(t),r=i.getDay(),s=(r<n?7:0)+r-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i};var O=function(t){return C(t,{weekStartsOn:1})};var I=function(t){var e=S(t),n=e.getFullYear(),i=new Date(0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);var r=O(i),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var a=O(s);return e.getTime()>=r.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1};var W=function(t){var e=I(t),n=new Date(0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),O(n)},_=6048e5;var H=function(t){var e=S(t),n=O(e).getTime()-W(e).getTime();return Math.round(n/_)+1};var $=function(e){if(t(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")};var N=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];var R=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);var i=N.concat(e).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+i.join("|")+"|.)","g")};var A=function(){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["AM","PM"],a=["am","pm"],o=["a.m.","p.m."],u={MMM:function(e){return t[e.getMonth()]},MMMM:function(t){return e[t.getMonth()]},dd:function(t){return n[t.getDay()]},ddd:function(t){return i[t.getDay()]},dddd:function(t){return r[t.getDay()]},A:function(t){return t.getHours()/12>=1?s[1]:s[0]},a:function(t){return t.getHours()/12>=1?a[1]:a[0]},aa:function(t){return t.getHours()/12>=1?o[1]:o[0]}};return["M","D","DDD","d","Q","W"].forEach(function(t){u[t+"o"]=function(e,n){return function(t){var e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}(n[t](e))}}),{formatters:u,formattingTokensRegExp:R(u)}},B={distanceInWords:function(){var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(e,n,i){var r;return i=i||{},r="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),i.addSuffix?i.comparison>0?"in "+r:r+" ago":r}}}(),format:A()};var z={M:function(t){return t.getMonth()+1},MM:function(t){return L(t.getMonth()+1,2)},Q:function(t){return Math.ceil((t.getMonth()+1)/3)},D:function(t){return t.getDate()},DD:function(t){return L(t.getDate(),2)},DDD:function(t){return F(t)},DDDD:function(t){return L(F(t),3)},d:function(t){return t.getDay()},E:function(t){return t.getDay()||7},W:function(t){return H(t)},WW:function(t){return L(H(t),2)},YY:function(t){return L(t.getFullYear(),4).substr(2)},YYYY:function(t){return L(t.getFullYear(),4)},GG:function(t){return String(I(t)).substr(2)},GGGG:function(t){return I(t)},H:function(t){return t.getHours()},HH:function(t){return L(t.getHours(),2)},h:function(t){var e=t.getHours();return 0===e?12:e>12?e%12:e},hh:function(t){return L(z.h(t),2)},m:function(t){return t.getMinutes()},mm:function(t){return L(t.getMinutes(),2)},s:function(t){return t.getSeconds()},ss:function(t){return L(t.getSeconds(),2)},S:function(t){return Math.floor(t.getMilliseconds()/100)},SS:function(t){return L(Math.floor(t.getMilliseconds()/10),2)},SSS:function(t){return L(t.getMilliseconds(),3)},Z:function(t){return P(t.getTimezoneOffset(),":")},ZZ:function(t){return P(t.getTimezoneOffset())},X:function(t){return Math.floor(t.getTime()/1e3)},x:function(t){return t.getTime()}};function P(t,e){e=e||"";var n=t>0?"-":"+",i=Math.abs(t),r=i%60;return n+L(Math.floor(i/60),2)+e+L(r,2)}function L(t,e){for(var n=Math.abs(t).toString();n.length<e;)n="0"+n;return n}var G=function(t,e,n){var i=e?String(e):"YYYY-MM-DDTHH:mm:ss.SSSZ",r=(n||{}).locale,s=B.format.formatters,a=B.format.formattingTokensRegExp;r&&r.format&&r.format.formatters&&(s=r.format.formatters,r.format.formattingTokensRegExp&&(a=r.format.formattingTokensRegExp));var o=S(t);return $(o)?function(t,e,n){var i,r,s,a=t.match(n),o=a.length;for(i=0;i<o;i++)r=e[a[i]]||z[a[i]],a[i]=r||((s=a[i]).match(/\[[\s\S]/)?s.replace(/^\[|]$/g,""):s.replace(/\\/g,""));return function(t){for(var e="",n=0;n<o;n++)a[n]instanceof Function?e+=a[n](t,z):e+=a[n];return e}}(i,s,a)(o):"Invalid Date"};var X=function(t){var e=S(t),n=e.getFullYear(),i=e.getMonth(),r=new Date(0);return r.setFullYear(n,i+1,0),r.setHours(0,0,0,0),r.getDate()};var j=function(t,e){var n=S(t),i=Number(e),r=n.getMonth()+i,s=new Date(0);s.setFullYear(n.getFullYear(),r,1),s.setHours(0,0,0,0);var a=X(s);return n.setMonth(r,Math.min(a,n.getDate())),n};var J=function(t,e){var n=Number(e);return j(t,-n)};var Z=function(t,e){var n=S(t),i=S(e);return n.getTime()<i.getTime()};var U=function(t,e){var n=S(t),i=S(e);return n.getTime()>i.getTime()},K={ru:{daysShort:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],texts:{apply:"Применить",cancel:"Отменить"}},kk:{daysShort:["Дүй","Сей","Сәр","Бей","Жұм","Сен","Жек"],monthNames:["Қаңтар","Ақпан","Наурыз","Сәуір","Мамыр","Маусым","Шілде","Тамыз","Қыркүйек","Қазан","Қараша","Желтоқсан"],texts:{apply:"Қолдану",cancel:"Жою"}},en:{daysShort:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],texts:{apply:"Apply",cancel:"Cancel"}}},Q=function(t){return JSON.parse(JSON.stringify(t))},q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showDatepicker,expression:"showDatepicker"},{name:"click-outside",rawName:"v-click-outside",value:t.handleClickOutside,expression:"handleClickOutside"}],staticClass:"airbnb-style-datepicker-wrapper",class:t.wrapperClasses,style:t.showFullscreen?void 0:t.wrapperStyles,attrs:{id:t.wrapperId}},[n("div",{staticClass:"datepicker-header"},[n("div",{staticClass:"change-month-button previous"},[n("button",{on:{click:t.previousMonth}},[n("svg",{attrs:{viewBox:"0 0 1000 1000"}},[n("path",{attrs:{d:"M336.2 274.5l-210.1 210h805.4c13 0 23 10 23 23s-10 23-23 23H126.1l210.1 210.1c11 11 11 21 0 32-5 5-10 7-16 7s-11-2-16-7l-249.1-249c-11-11-11-21 0-32l249.1-249.1c21-21.1 53 10.9 32 32z"}})])])]),t._v(" "),n("div",{staticClass:"change-month-button next"},[n("button",{on:{click:t.nextMonth}},[n("svg",{attrs:{viewBox:"0 0 1000 1000"}},[n("path",{attrs:{d:"M694.4 242.4l249.1 249.1c11 11 11 21 0 32L694.4 772.7c-5 5-10 7-16 7s-11-2-16-7c-11-11-11-21 0-32l210.1-210.1H67.1c-13 0-23-10-23-23s10-23 23-23h805.4L662.4 274.5c-21-21.1 11-53.1 32-32.1z"}})])])]),t._v(" "),t._l(t.showMonths,function(e,i){return n("div",{key:e,staticClass:"days-legend",style:[t.monthWidthStyles,{left:t.width*i+"px"}]},t._l(t.daysShort,function(e){return n("div",{key:e,staticClass:"day-title"},[t._v(t._s(e))])}))})],2),t._v(" "),n("div",{staticClass:"datepicker-inner-wrapper",style:t.innerStyles},[n("transition-group",{attrs:{name:"list-complete",tag:"div"}},t._l(t.months,function(e,i){return n("div",{key:e.firstDateOfMonth,staticClass:"month",class:{hidden:0===i||i>t.showMonths},style:t.monthWidthStyles},[n("div",{staticClass:"month-name"},[t._v(t._s(t.monthNames[e.monthIndex])+" "+t._s(e.year))]),t._v(" "),n("table",{staticClass:"month-table",attrs:{role:"presentation"}},[n("tbody",t._l(e.weeks,function(e,i){return n("tr",{key:i,staticClass:"week"},t._l(e,function(e,i){var r=e.fullDate,s=e.dayNumber;return n("td",{key:i+"_"+s,staticClass:"day",class:{enabled:0!==s,empty:0===s,disabled:t.isDisabled(r),selected:t.selectedDate1===r||t.selectedDate2===r,"in-range":t.isInRange(r)},style:{width:(t.width-30)/7+"px",background:t.isSelected(r)?t.colors.selected:t.isInRange(r)?t.colors.inRange:"",color:t.isSelected(r)?t.colors.selectedText:t.isInRange(r)?t.colors.selectedText:t.colors.text},attrs:{"data-date":r},on:{mouseover:function(){t.setHoverDate(r)}}},[s?n("button",{staticClass:"day-button",attrs:{date:r,disabled:t.isDisabled(r)},on:{click:function(){t.selectDate(r)}}},[t._v(t._s(s))]):t._e()])}))}))])])}))],1),t._v(" "),"single"!==t.mode&&t.showActionButtons?n("div",{staticClass:"action-buttons mobile-only"},[n("button",{on:{click:t.closeDatepickerCancel}},[t._v(t._s(t.texts.cancel))]),t._v(" "),n("button",{style:{color:t.colors.selected},on:{click:t.closeDatepicker}},[t._v(t._s(t.texts.apply))])]):t._e()])])},staticRenderFns:[],name:"AirbnbStyleDatepicker",props:{triggerElementId:{type:String},dateOne:{type:[String,Date],default:G(new Date)},dateTwo:{type:[String,Date]},minDate:{type:[String,Date]},endDate:{type:[String,Date]},mode:{type:String,default:"range"},offsetY:{type:Number,default:0},offsetX:{type:Number,default:0},monthsToShow:{type:Number,default:1},startOpen:{type:Boolean},fullscreenMobile:{type:Boolean,default:!0},inline:{type:Boolean},disabledDates:{type:Array,default:function(){return[]}},showActionButtons:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},isTest:{type:Boolean,default:function(){return!1}},lang:{type:String,default:"ru"}},data:function(){return{wrapperId:"airbnb-style-datepicker-wrapper-"+function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}(5),dateFormat:"YYYY-MM-DD",showDatepicker:!1,showMonths:2,colors:{selected:"#643184",inRange:"#b98ad1",selectedText:"#fff",text:"#73879c"},sundayFirst:!1,startingDate:"",months:[],width:300,selectedDate1:"",selectedDate2:"",isSelectingDate1:!0,hoverDate:"",alignRight:!1,triggerPosition:{},triggerWrapperPosition:{},viewportWidth:window.innerWidth+"px",isMobile:window.innerWidth<768,isTablet:window.innerWidth>=768&&window.innerWidth<=1024,triggerElement:void 0}},computed:{translation:function(){return K[this.lang]},daysShort:function(){return this.translation.daysShort},monthNames:function(){return this.translation.monthNames},texts:function(){return this.translation.texts},wrapperClasses:function(){return{"datepicker-open":this.showDatepicker,"full-screen":this.showFullscreen,inline:this.inline}},wrapperStyles:function(){return{position:this.inline?"static":"absolute",top:this.inline?"0":this.triggerPosition.height+this.offsetY+"px",left:this.alignRight?"":this.triggerPosition.left-this.triggerWrapperPosition.left+this.offsetX+"px",right:this.alignRight?this.triggerWrapperPosition.right-this.triggerPosition.right+this.offsetX+"px":"",width:this.width*this.showMonths+"px",zIndex:this.inline?"0":"100"}},innerStyles:function(){return{"margin-left":this.showFullscreen?"-"+this.viewportWidth:"-"+this.width+"px"}},monthWidthStyles:function(){return{width:this.showFullscreen?this.viewportWidth:this.width+"px"}},showFullscreen:function(){return this.isMobile&&this.fullscreenMobile},datesSelected:function(){return!!(this.selectedDate1&&""!==this.selectedDate1||this.selectedDate2&&""!==this.selectedDate2)},allDatesSelected:function(){return!(!this.selectedDate1||""===this.selectedDate1||!this.selectedDate2||""===this.selectedDate2)},hasMinDate:function(){return!(!this.minDate||""===this.minDate)},isRangeMode:function(){return"range"===this.mode},isSingleMode:function(){return"single"===this.mode},datepickerWidth:function(){return this.width*this.showMonths},datePropsCompound:function(){return this.dateOne+this.dateTwo},isDateTwoBeforeDateOne:function(){return!!this.dateTwo&&Z(this.dateTwo,this.dateOne)}},watch:{selectedDate1:function(t,e){var n=t&&""!==t?G(t,this.dateFormat):"";this.$emit("date-one-selected",n)},selectedDate2:function(t,e){var n=t&&""!==t?G(t,this.dateFormat):"";this.$emit("date-two-selected",n)},mode:function(t,e){this.setStartDates()},datePropsCompound:function(t){this.dateOne!==this.selectedDate1&&(this.startingDate=this.dateOne,this.setStartDates(),this.generateMonths()),this.isDateTwoBeforeDateOne&&(this.selectedDate2="",this.$emit("date-two-selected",""))}},created:function(){var t,e,n,i,r=this;this.setupDatepicker(),this.sundayFirst&&this.setSundayToFirstDayInWeek(),this._handleWindowResizeEvent=(t=function(){r.positionDatepicker(),r.setStartDates()},e=200,function(){var r=this,s=arguments,a=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||t.apply(r,s)},e),a&&t.apply(r,s)}),this._handleWindowClickEvent=function(t){t.target.id===r.triggerElementId&&(t.stopPropagation(),t.preventDefault(),r.toggleDatepicker())},window.addEventListener("resize",this._handleWindowResizeEvent),window.addEventListener("click",this._handleWindowClickEvent)},mounted:function(){this.triggerElement=this.isTest?document.createElement("input"):document.getElementById(this.triggerElementId),this.setStartDates(),this.generateMonths(),(this.startOpen||this.inline)&&this.openDatepicker(),this.triggerElement.addEventListener("keyup",this.handleTriggerInput)},destroyed:function(){window.removeEventListener("resize",this._handleWindowResizeEvent),window.removeEventListener("click",this._handleWindowClickEvent),this.triggerElement.removeEventListener("keyup",this.handleTriggerInput)},methods:{handleClickOutside:function(t){t.target.id!==this.triggerElementId&&this.closeDatepicker()},handleTriggerInput:function(t){var e=40,n=38,i=39,r=37;t.keyCode!==e||t.shiftKey||this.showDatepicker?t.keyCode===n&&!t.shiftKey&&this.showDatepicker?this.closeDatepicker():t.keyCode===i&&!t.shiftKey&&this.showDatepicker?this.nextMonth():t.keyCode===r&&!t.shiftKey&&this.showDatepicker?this.previousMonth():"single"===this.mode&&this.setDateFromText(t.target.value):this.openDatepicker()},setDateFromText:function(t){if(!(t.length<10)){var e=t.match(/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/),n=t.match(/^(0[1-9]|1[0-9]|2[0-9]|3[0-1])[.](0[1-9]|1[0-2])[.](\d{4})$/);if(e||n){n&&(t=t.substring(6,10)+"-"+t.substring(3,5)+"-"+t.substring(0,2));var i=new Date(t);if($(i)){var r=G(i,this.dateFormat);this.isDateDisabled(r)||this.isBeforeMinDate(r)||this.isAfterEndDate(r)||(this.startingDate=J(r,1),this.generateMonths(),this.selectDate(r))}}}},generateMonths:function(){this.months=[];for(var t=0;t<this.showMonths+2;t++)this.months.push(this.getMonth(this.startingDate)),this.startingDate=this.addMonths(this.startingDate)},setupDatepicker:function(){if(this.$options.sundayFirst&&(this.sundayFirst=Q(this.$options.sundayFirst)),this.$options.colors){var t=Q(this.$options.colors);this.colors.selected=t.selected||this.colors.selected,this.colors.inRange=t.inRange||this.colors.inRange,this.colors.selectedText=t.selectedText||this.colors.selectedText,this.colors.text=t.text||this.colors.text}},setStartDates:function(){var t=this.dateOne||new Date;this.hasMinDate&&Z(t,this.minDate)&&(t=this.minDate),this.startingDate=this.subtractMonths(t),this.selectedDate1=this.dateOne,this.selectedDate2=this.dateTwo},setSundayToFirstDayInWeek:function(){var t=this.daysShort.pop();this.daysShort.unshift(t)},getMonth:function(t){var e=G(t,"YYYY-MM-01"),n=G(t,"YYYY"),i=parseInt(G(t,"M"));return{year:n,firstDateOfMonth:e,monthIndex:i-1,monthNumber:i,weeks:this.getWeeks(e)}},getWeeks:function(t){var e={dayNumber:0},n=X(t),i=G(t,"YYYY"),r=G(t,"MM"),s=parseInt(G(t,this.sundayFirst?"d":"E"));this.sundayFirst&&s++;for(var a=[],o=[],u=1;u<s;u++)o.push(e);for(var c=0;c<n;c++){var h=c>=n-1,l=c+1,d=l<10?"0"+l:l;if(o.push({dayNumber:l,dayNumberFull:d,fullDate:i+"-"+r+"-"+d}),7===o.length)a.push(o),o=[];else if(h){for(var f=0;f<7-o.length;f++)o.push(e);a.push(o),o=[]}}return a},selectDate:function(t){if(!(this.isBeforeMinDate(t)||this.isAfterEndDate(t)||this.isDateDisabled(t)))return"single"===this.mode?(this.selectedDate1=t,void this.closeDatepicker()):void(this.isSelectingDate1||Z(t,this.selectedDate1)?(this.selectedDate1=t,this.isSelectingDate1=!1,Z(this.selectedDate2,t)&&(this.selectedDate2="")):(this.selectedDate2=t,this.isSelectingDate1=!0,U(this.selectedDate1,t)&&(this.selectedDate1="")))},setHoverDate:function(t){this.hoverDate=t},isSelected:function(t){if(t)return this.selectedDate1===t||this.selectedDate2===t},isInRange:function(t){return!(!this.allDatesSelected||this.isSingleMode)&&(U(t,this.selectedDate1)&&Z(t,this.selectedDate2)||U(t,this.selectedDate1)&&Z(t,this.hoverDate)&&!this.allDatesSelected)},isBeforeMinDate:function(t){return!!this.minDate&&Z(t,this.minDate)},isAfterEndDate:function(t){return!!this.endDate&&U(t,this.endDate)},isDateDisabled:function(t){return this.disabledDates.indexOf(t)>-1},isDisabled:function(t){return this.isDateDisabled(t)||this.isBeforeMinDate(t)||this.isAfterEndDate(t)},previousMonth:function(){this.startingDate=this.subtractMonths(this.months[0].firstDateOfMonth),this.months.unshift(this.getMonth(this.startingDate)),this.months.splice(this.months.length-1,1)},nextMonth:function(){var t=this;this.startingDate=this.addMonths(this.months[this.months.length-1].firstDateOfMonth),this.months.push(this.getMonth(this.startingDate)),setTimeout(function(){t.months.splice(0,1)},100)},subtractMonths:function(t){return G(J(t,1),this.dateFormat)},addMonths:function(t){return G(j(t,1),this.dateFormat)},toggleDatepicker:function(){this.showDatepicker?this.closeDatepicker():this.disabled||this.openDatepicker()},openDatepicker:function(){this.positionDatepicker(),this.setStartDates(),this.triggerElement.classList.add("datepicker-open"),this.showDatepicker=!0,this.initialDate1=this.dateOne,this.initialDate2=this.dateTwo},closeDatepickerCancel:function(){this.showDatepicker&&(this.selectedDate1=this.initialDate1,this.selectedDate2=this.initialDate2,this.closeDatepicker())},closeDatepicker:function(){this.inline||(this.showDatepicker=!1,this.triggerElement.classList.remove("datepicker-open"),this.$emit("closed"))},positionDatepicker:function(){var t=function(t,e){if(!t)return null;if("function"==typeof t.closest)return t.closest(e)||null;for(;t;){if(t.matches(e))return t;t=t.parentElement}return null}(this.triggerElement,".datepicker-trigger");this.triggerPosition=this.triggerElement.getBoundingClientRect(),this.triggerWrapperPosition=t?t.getBoundingClientRect():{left:0,right:0};var e=Math.max(document.documentElement.clientWidth,window.innerWidth||0);this.viewportWidth=e+"px",this.isMobile=e<768,this.isTablet=e>=768&&e<=1024,this.showMonths=this.isMobile?1:this.isTablet&&this.monthsToShow>2?2:this.monthsToShow,this.$nextTick(function(){var t=document.getElementById(this.wrapperId);if(this.triggerElement&&t){var n=this.triggerElement.getBoundingClientRect().left+t.getBoundingClientRect().width;this.alignRight=n>e}})}}},V={bind:function(t,e,n){t.event=function(i){t===i.target||t.contains(i.target)||n.context[e.expression](i)},document.body.addEventListener("click",t.event),document.body.addEventListener("touchstart",t.event)},unbind:function(t){document.body.removeEventListener("click",t.event),document.body.removeEventListener("touchstart",t.event)}},tt={install:function(t,e){t.directive("click-outside",V),t.component(q.name,Object.assign({},e,q))}};return"undefined"!=typeof window&&window.Vue&&(window.AirbnbStyleDatepicker=tt),tt});
//# sourceMappingURL=vue-airbnb-style-datepicker.min.js.map
